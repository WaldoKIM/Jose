<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>회원가입</title>
    <style>
        legend {font-size:22px; font-family: fantasy}
        h1 {font-size:32px; font-family: cursive}
        form {float:left; background:linear-gradient(to left, #49f8f8, #eeeaff); }
        div {width:600px;position: relative}
        div h2{position: absolute; top:500px;left:250px;z-index: 1;font-size:48px}        
    </style>
    <script>
     function form_check(){
    var nombre = document.getElementById("nombre");
    //var nombre = document.getElementById("nombre").value 로 선언하고 사용도 가능은 하나 잘 사용되는 방법은 아님
    var userid = document.getElementById("userid");
    var pw486 = document.getElementById("pw486");
    var pwc=document.getElementById("pwconfirming");
    var sms=document.getElementById("radio1");
    var sms1=document.getElementById("radio2");     
    var conf=document.getElementById("paper");
    var tele=document.getElementById("tel");
        
         
    if(nombre.value == ""){
    alert("당신의 이름은...?");
    nombre.focus();    
    return false;    
    };
    // null = 공간의 존재 자체를 부정하는 뜻. ""=empty로 사용가능
    //var reg=/^[0-9]+$/g;
    //if(!reg.test(tele.value)){
    ///[^0-9!@#\$%\^\&*\)\(+=._-]+$/g;     u0020-002f
         
    var reg_nombre=/^[^0-9\!\?@#\$%\^\&*\)\(\[\]\{\}\+=._-]+$/g;
    if(!reg_nombre.test(nombre.value)){
    //if(reg.test(tele.value)==false); 동일식    
    alert("이름에 숫자나 기호는 사용하실 수 없습니다");
    nombre.focus();    
    return false;    
    };     
         
         
    if(nombre.value == "Bond, James Bond"){
    alert("Pleasure to meet you, 007!");
    nombre.focus();    
    return false;    
    };
    if(userid.value == ""){
    alert("아이디를 입력해주세요");
    userid.focus();    
    return false;    
    };
    var safety = pw486.value.length;    
    if(pw486.value == ""){
    alert("비밀번호를 입력해주세요");
    pw486.focus();    
    return false;    
    };
    if (safety < 6 || safety >12){
    alert("비밀번호는 6~12자리 이내로 입력해주세요");
    pw486.focus();    
    return false;    
    };
    if(pwc.value != pw486.value){
    alert("비밀번호가 일치하지 않습니다.");
    pwconfirming.focus();    
    return false;    
    };
    
    var reg=/^[0-9]+$/g;
    if(tele.value==""){}
    else if(!reg.test(tele.value)){
    //if(reg.test(tele.value)==false); 동일식    
    alert("전화번호는 숫자만 입력하세요.");
    tele.focus();    
    return false;    
    };     
             
         
    if(sms.checked){
    alert("SMS 수신 허용을 선택하셨습니다.");
    };
    if(sms1.checked){
    alert("SMS 수신을 거부하셨습니다.");
    };
    if(!conf.checked){
    alert("약관에 동의하지 않으면 가입이 불가합니다");
    conf.focus();    
    return false;    
    };
         
    //요런식으로 하면 여러개의 항목이 비었을때 하나씩 체크하고 입력해야 함. 조건을 한번에 한개라도 비었을때로 설정하고, 해당하는 빈 칸을 동시에 표기 혹은 안내하는 방법 없나???    
    document.sign_in.submit();    
    };
    //등록하기 버튼에 id값이 있을때는 먹히지 않음 왜죠???
    //id 이름이 submit이여서 충돌이었던 듯. 이름 바꾸니 되네
       function idcheck(){
       window.open("idcheck.html", "name" , "width=400,height=200,left=200,top=50")   
       };        
    //id var 공유하는 방법 없나???
    function postal(){window.open("addresscheck.html", "name" , "width=400,height=200,left=200,top=50")   
       };
        
    function change_mail(){
    var select=document.getElementById("sel");
    var maildn=document.getElementById("maildns");    
    var idx=select.options.selectedIndex;
    //alert(select.options[1].value);
    //alert(select.options[1].text);    
    var txt=select.options[idx].value;
    maildn.value=txt;
    if (txt=="직접입력")
    {maildn.value="";maildn.focus()};
    };
    /*if(idx==0){maildn.value="";maildn.focus()};
    if(idx==1){maildn.value="naver.com"};
    if(idx==2){maildn.value="daum.net"};
    if(idx==3){maildn.value="gmail.com"};
    if(idx==4){maildn.value="kakao.com"};
    if(idx==5){maildn.value="yahoo.com"};
    if(idx==6){maildn.value="hotmail.com"};
    if(idx==7){maildn.value="lycos.com"};    
    };*/
    //위에처럼 했을때, 만약 옵션이 10000개면... 더이상의 자세한 설명은 생략한    
    //select.options.selected.array.index
    //댕청한 콤퓨타는 0부터 셈함. 따라서 배열의 인덱스 0이 첫번째. 콤퓨타의 9는 휴먼의 열번째와 같다. 이해했습니까, 휴먼?
        
        
        //이벤트 조건을 온클릭으로 할 때 유의사항; 클릭하지 않고 탭이나 방향키+엔터로 입력하는 사람들은 이벤트 트리거가 작동하지 않을 수 있으므로 주의할 것. 한줄요약-onchange 써라.
    </script>
</head>
<body>
<form name="sign_in" action="member.php" method="post">
<fieldset>
<legend>필수 정보 입력</legend>
<h2>신규 회원 가입 정보</h2>
<p>
<label for="nombre">이름</label>       
<input type="text" name="nombre" id="nombre" placeholder="쏘르 오딘손">
</p>
<p>
<label for="userid">아이디</label>       
<input type="text" name="userid" id="userid" maxlength="16" placeholder="pointbreak77">
최대 16자리 영문 및 숫자 조합을 사용하실 수 있습니다.
</p>
<p>
<button type="button" value="아이디 중복 확인" onclick="idcheck()">
아이디 중복확인</button>
</p>
<p>
<label for="pw486">비밀번호</label>       
<input type="password" name="pw486" id="pw486" maxlength="12" placeholder="비밀번호를 입력해주세요">
6~12자리 영문 및 숫자 조합으로 설정해 주세요.
</p>
<p>
<label>비밀번호 확인
<input type="password" name="pwconfirming" id="pwconfirming" maxlength="12" placeholder="똑같이 한번 더 입력해주세요"> 
</label>
</p>
</fieldset>
<fieldset>
<legend>선택 정보 입력</legend>
<h2>회원 연락처 정보</h2>
<p>
<label>전화번호
<input type="tel" name="tel" id="tel" placeholder="8201012345678"> 
</label>
전화번호는 숫자만 입력해주세요.
</p>
<div>
<label for="mailaddress">이메일</label>
<input type="text" name="mailaddress" id="mailaddress" placeholder="thestrongest">@<input type="text" name="maildns" id="maildns" placeholder="avengers.com">
<select name="sel" id="sel" onchange="change_mail()">
<option>직접입력</option>
<option value="naver.com">네이버(naver.com)</option>
<option value="daum.net">다음(daum.net)</option>
<option value="gmail.com">구글(gmail.com)</option>
<option value="kakao.com">카카오(kakao.com)</option>
<option value="yahoo.com">야후(yahoo.com)</option>
<option value="hotmail.com">핫메일(hotmail.com)</option>
<option value="lycos.com">라이코스(lycos.com)</option>
</select>
</div>
<div>
<label for="postcode">우편번호</label>
<input id="postcode" type="text" name="postcode" size="20" maxlength="5" placeholder="5자리 숫자 입력">
<button type="button" onclick="postal()">우편번호 검색</button><br>
<label for="address1">기본주소</label>
<input id="address1" type="text" name="address1" size="50" placeholder="대한민국 서울특별시 송파구 거여동 산333"><br>
<label for="address_detail">상세주소</label>
<input id="address_detail" type="text" name="address2" size="50" placeholder="(주)풍림개발 B동 302호">    
</div>
<!-- 표준 검사 통과용으로 중복되는 레이블 입력시 나중에 css 로 감추면 됨-->
<section>
<h2>SMS 수신 동의</h2>
<label for="radio1">동의</label>
<input type="radio" name="sms" id="radio1" value="true" checked="checked">
<label for="radio2">어림도없지!</label>
<input type="radio" name="sms" id="radio2" value="false">
</section>
</fieldset>
<fieldset>
<legend>가입 확인</legend>
<p>
<label for="paper">약관동의</label>
<input type="checkbox" id="paper"><br>
<label for="ready">준비 완료!</label>
<button type="button" id="ready" onclick="form_check()">등록하기</button>
</p>
<!--여기에 id 값을 주면 자바스크립트로 submit이 안먹힘 왜죠??-->

<!-- 이론상 submit 이 맞지만, 입력된 정보의 유효성 여하의 관계 없이 무조건 post 해 버리는 문제가 발생 할 수 있어서 실무에서는 button으로 처리함-->
<p>
<label for="backward">음... 마음이 바뀌었어요.
<input type="button" value="이전화면" id="backward">
</label>
</p>
</fieldset>  
</form>    
</body>
</html>